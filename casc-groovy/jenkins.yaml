jenkins:
  systemMessage: "Configured automatically by Configuration as Code for Controllers (CasC-Groovy)\n\n"
groovy:
  - script: |
      import java.util.logging.Logger
      import jenkins.model.Jenkins
      import com.cloudbees.plugins.credentials.CredentialsProvider
      import org.jenkinsci.plugins.plaincredentials.StringCredentials

      Logger scriptLogger = Logger.getLogger('testing.groovy')
      scriptLogger.info('Testing log output from CasC Groovy script.')

      def credentialsId = 'github-token'
      def credentials = CredentialsProvider.lookupCredentials(StringCredentials, Jenkins.get()).find { it.id == credentialsId }
      if (!credentials) {
        scriptLogger.warning("Cannot find credentials with ID: ${credentialsId}")
      } else {
        scriptLogger.info("Found credentials with ID: ${credentialsId}")
      }

      scriptLogger.info('Testing log output from CasC Groovy script. (exit)')
